{% extends 'race/base_generic.html' %}

{% block page_title %}
    Your runners profile
{% endblock %}

{% block content %}
    <div class="row justify-content-md-center">

        <div class="next_race">
            <div class="row">
                <div class="col-6 col-lg-12">
                    <p>Hi {% if profile.first_name %}
                            {{ profile.first_name }}
                        {% else %}
                            {{ profile.user }}
                    {% endif %}</p>

                    <div>
                        <h3> Snap Stats</h3>

                        <p> km ran >> {{ profile.get_stats.km }} </p>
                        <p> finished races >> {{ profile.get_stats.races }}</p>
                        <p> favourite race type >> {{ profile.get_stats.favourite }}</p>
                        <div>
                            <h2>My pb</h2>
                            {{ profile.my_records }}
                        </div>
                    </div>
                    <div style="border: darksalmon 1px solid; margin: 10px; padding: 5px">
                        {% if profile.next_race %}
                            <p> Next race is {{ profile.next_race }}, days until {{ profile.next_race.days_until }}
                            <a href="{% url 'detail' profile.next_race.id %}"> More</a> </p>
                        {% else %}
                            <p> No more running :o. Maybe go to <a href="{% url 'explorer' %}"> explore</a> page and find next race? </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div class="w-100"></div>

        <div class="row">
            <div class="col-6 col-xl-6">
                <h2> Your past races</h2>



                {% for race in profile.past_races %}
                    <li>
                        <b> {{ race }}</b>
                        <a href="{% url 'detail' race.id %}"> More</a>
                    </li>

                {% endfor %}
            </div>


            <div class="col-6 col-xl-6">
                <h2> Future races</h2>
                {% for race in profile.future_races %}
                    <li>
                        <b> {{ race }}</b>
                        <a href="{% url 'detail' race.id %}"> More</a>
                    </li>
                {% endfor %}
            </div>
        </div>
        <div class="w-100"></div>

        <div class="row">
            <div class="col col-xl-12">
                <h2> Trophie shelf </h2>

                {% for my_trophy in profile.my_trophies %}
                    <li>
                        <h4 style="color: #4CAF50">{{ my_trophy.trophy.name }} ({{ my_trophy.race_earned.name }} )
                            <span title="{{ my_trophy.date_earned }}">
                            <img
                                    src="https://cdn.pixabay.com/photo/2014/03/24/17/07/medal-295094_1280.png"
                                    alt="Medal" height="20px" width="20px">
                        </span>
                        </h4>

                    </li>

                {% endfor %}

            </div>
        </div>


    </div>


{% endblock %}

{% block timeline %}

{% endblock %}

